#!/bin/bash
# define the variables you want pasted into the C code here
INSERT_INITIALISATION_TYPE=1
INSERT_SURFACE_FILENAME=hi
INSERT_UV_FILENAME=ohmy
INSERT_RUNTIME=3
INSERT_UVPRINTTIME=3
INSERT_VELOCITYPRINTTIME=3
INSERT_FREQUENTPRINTTIME=3
INSERT_SKIPTIME=3
INSERT_GRIDSPACING=3
INSERT_NX=400
INSERT_NY=500
INSERT_NZ=4
INSERT_TIMESTEP=9

# ok paste these values into the C code
names="INSERT_INITIALISATION_TYPE INSERT_SURFACE_FILENAME INSERT_UV_FILENAME INSERT_RUNTIME INSERT_UVPRINTTIME INSERT_VELOCITYPRINTTIME INSERT_FREQUENTPRINTTIME INSERT_SKIPTIME INSERT_GRIDSPACING INSERT_NX INSERT_NY INSERT_NZ INSERT_TIMESTEP"
cp FN_Constants.h FN_Constants_backup.h
for name in $names
do
    value=${!name}
    sed "s/${name}/${value}/" FN_Constants.h > temp
    mv -f temp FN_Constants.h
done

# now run make to compile
make
#clean up
mv -f FN_Constants_backup.h FN_Constants.h


